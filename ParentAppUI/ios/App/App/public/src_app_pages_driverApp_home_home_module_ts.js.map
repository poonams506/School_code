{"version":3,"file":"src_app_pages_driverApp_home_home_module_ts.js","mappings":"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","sources":["./src/app/pages/driverApp/home/home-routing.module.ts","./src/app/pages/driverApp/home/home.module.ts","./src/app/pages/driverApp/home/home.page.ts","./src/app/pages/driverApp/home/home.page.scss"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomePageRoutingModule {}\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\nimport { NgIconComponent, provideIcons } from '@ng-icons/core';\nimport { featherAirplay } from '@ng-icons/feather-icons';\nimport { TranslateModule } from '@ngx-translate/core';\n\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\nimport { HomePage } from './home.page';\n\n@NgModule({\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule,\n    NgIconComponent,\n    TranslateModule\n  ],\n \n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Capacitor } from '@capacitor/core';\nimport { Platform } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { CommonMethodService } from 'src/app/services/common-method-service';\nimport { FcmService } from 'src/app/services/fcm/fcm.service';\nimport { CabDriverAppServiceProxy, SchoolServiceProxy } from 'src/app/services/school-api-service';\nimport { UserService } from 'src/app/services/user-service';\nimport { environment } from 'src/environments/environment';\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.page.html',\n  styleUrls: ['./home.page.scss'],\n})\nexport class HomePage implements OnInit {\n  canDismiss = false;\n  presentingElement = null;\n  title = \"Home\"\n  isAppAccessible:boolean=true;\n  content_loaded: boolean = false;\n  toastButtons = [\n    {\n      text: 'Dismiss',\n    },\n  ];\n\n  constructor(public translate: TranslateService, public commonMethod :CommonMethodService,\n    private platform: Platform, public schoolService:SchoolServiceProxy,\n    private userService:UserService,private cabDriverService:CabDriverAppServiceProxy,\n    private router:Router,\n    private fcmService:FcmService\n    ) {\n     \n    }\n\n    \n     ionViewDidEnter() {\n\n\n      this.commonMethod.setHeaderTitle('Home');\n      this.userService.getUser().subscribe(result=>{\n        this.cabDriverService.getCurrentActiveTripId(result.userId).subscribe(activeTripResult=>{\n          if(activeTripResult && activeTripResult.tripId>0)\n          {\n            if(activeTripResult.tripType == 'PickUp')\n            {\n              this.router.navigate(['driver-app/cabdriverTab/pickup',activeTripResult.tripId,activeTripResult.routeId]);\n            }\n            else if(activeTripResult.tripType == 'Drop')\n            {\n              this.router.navigate(['driver-app/cabdriverTab/drop',activeTripResult.tripId,activeTripResult.routeId]);\n            }\n          }\n        });\n      });\n      this.initializeApp();\n    }\n\n    handleRefresh(event) {\n      setTimeout(() => {\n      this.ionViewDidEnter();\n        event.target.complete();\n      }, 2000);\n    }\n\n  ngOnInit() {\n  }\n\n   initializeApp() {\n    this.platform.ready().then(async () => {\n      if (this.platform.is('android') || this.platform.is('ios'))\n      {\n        await  this.checkForUpdate();\n      }\n      \n    });\n  }\n\n  async checkForUpdate() {\n    this.isAppAccessible=true;\n    if(Capacitor.getPlatform() !== 'web') {\n      await this.fcmService.clearFCMTokenAndRemoveListener();\n      await this.fcmService.registerPush();\n    }\n    this.schoolService.getCurrentSchoolAppVersion().subscribe(result=>{\n      if(environment.APP_VERSION===result.configurationValue && result.isUpdateCheck == true)\n        {\n          this.isAppAccessible=true;\n        }\n        else if(result.isUpdateCheck == true)\n        {\n          this.isAppAccessible=false;\n        }\n        else{\n          this.isAppAccessible=true;\n        }\n    });\n   }\n\n   redirectToPlayStore() {\n    //App.exitApp();\n    setTimeout(() => {\n    window.open('https://play.google.com/store/apps/details?id=com.schoolhub360.schoolApp', '_system');\n    }, 500);\n  }\n\n  refreshPage(){\n    window.location.reload();\n  }\n\n}\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `capacitor-google-map {\n  display: inline-block;\n  width: 275px;\n  height: 400px;\n}\n\n.driver {\n  padding: 0 30px;\n}\n.driver .driver-home-button {\n  flex-direction: column;\n}\n.driver .s-button {\n  width: 100%;\n}\n.driver .s-button ion-button {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  border: 2px solid #737fad;\n  background: #E1F5FE;\n  background: linear-gradient(135deg, #E1F5FE, #C5CAE9);\n  transition: all 0.3s ease-in-out;\n  border-radius: 10px;\n  margin-bottom: 20px;\n}\n.driver .s-button .home-icons {\n  height: 60px;\n  width: 80px;\n  display: flex;\n  align-items: center;\n}\n.driver .s-button .home-icons img {\n  width: 100%;\n  height: 80px;\n}\n.driver .s-button .home-text {\n  font-size: 20px;\n  font-weight: bold;\n  margin-left: 20px;\n  flex: 1;\n  text-align: left;\n  color: #000;\n}\n.driver .s-button.driver-b .home-icons img {\n  height: 55px;\n  width: 60px;\n}\n.driver .s-button:hover {\n  transform: scale(1.05);\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/pages/driverApp/home/home.page.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,qBAAA;EACA,YAAA;EACA,aAAA;AACF;;AAGA;EACE,eAAA;AAAF;AACE;EACE,sBAAA;AACJ;AACE;EACC,WAAA;AACH;AAAI;EACE,aAAA;EACA,mBAAA;EACA,WAAA;EACA,yBAAA;EACA,mBAAA;EACA,qDAAA;EACA,gCAAA;EACA,mBAAA;EACA,mBAAA;AAEN;AAAI;EACE,YAAA;EACA,WAAA;EACA,aAAA;EACA,mBAAA;AAEN;AADM;EACE,WAAA;EACA,YAAA;AAGR;AAAI;EACE,eAAA;EACA,iBAAA;EACA,iBAAA;EACA,OAAA;EACA,gBAAA;EACA,WAAA;AAEN;AAEQ;EACE,YAAA;EACA,WAAA;AAAV;AAII;EACE,sBAAA;AAFN\",\"sourcesContent\":[\"capacitor-google-map {\\n  display: inline-block;\\n  width: 275px;\\n  height: 400px;\\n}\\n\\n\\n.driver {\\n  padding:0 30px ;\\n  .driver-home-button {\\n    flex-direction: column;\\n  }\\n  .s-button {\\n   width: 100%;\\n    ion-button {\\n      display: flex;\\n      align-items: center;\\n      width: 100%;\\n      border: 2px solid #737fad;\\n      background: #E1F5FE;\\n      background: linear-gradient(135deg, #E1F5FE, #C5CAE9);\\n      transition: all 0.3s ease-in-out;\\n      border-radius: 10px;\\n      margin-bottom: 20px;\\n        }\\n    .home-icons {\\n      height: 60px;\\n      width: 80px;\\n      display: flex;\\n      align-items: center;\\n      img {\\n        width: 100%;\\n        height: 80px;\\n      }\\n    }\\n    .home-text {\\n      font-size: 20px;\\n      font-weight: bold;\\n      margin-left: 20px;\\n      flex: 1;\\n      text-align: left;\\n      color: #000;\\n    }\\n    &.driver-b {\\n      .home-icons {\\n        img {\\n          height:55px;\\n          width: 60px;\\n        }\\n      }\\n    }\\n    &:hover {\\n      transform: scale(1.05);\\n    }\\n  }\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","RouterModule","HomePage","routes","path","component","HomePageRoutingModule","__decorate","imports","forChild","exports","CUSTOM_ELEMENTS_SCHEMA","CommonModule","FormsModule","IonicModule","NgIconComponent","TranslateModule","HomePageModule","schemas","declarations","Component","Router","Capacitor","Platform","TranslateService","CommonMethodService","FcmService","CabDriverAppServiceProxy","SchoolServiceProxy","UserService","environment","constructor","translate","commonMethod","platform","schoolService","userService","cabDriverService","router","fcmService","canDismiss","presentingElement","title","isAppAccessible","content_loaded","toastButtons","text","ionViewDidEnter","setHeaderTitle","getUser","subscribe","result","getCurrentActiveTripId","userId","activeTripResult","tripId","tripType","navigate","routeId","initializeApp","handleRefresh","event","setTimeout","target","complete","ngOnInit","_this","ready","then","_asyncToGenerator","is","checkForUpdate","_this2","getPlatform","clearFCMTokenAndRemoveListener","registerPush","getCurrentSchoolAppVersion","APP_VERSION","configurationValue","isUpdateCheck","redirectToPlayStore","window","open","refreshPage","location","reload","_","selector","template","__NG_CLI_RESOURCE__0"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}