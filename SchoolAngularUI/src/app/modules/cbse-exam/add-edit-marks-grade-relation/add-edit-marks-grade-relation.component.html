
<div class="modal-header">
  <h4 class="modal-title" id="modal-basic-title" *ngIf="f['marksGradeRelationId']?.value == 0" ngbAutofocus translate>
    ADD_GRADE
  </h4>
  <h4 class="modal-title" id="modal-basic-title" *ngIf="f['marksGradeRelationId']?.value > 0" ngbAutofocus translate>
    UPDATE_GRADES
  </h4>
</div>

<div class="modal-body">
  <form [formGroup]="marksGradeForm" novalidate>
    <div class="row">
      <div class="col-12 col-md-3">
        <div class="form-group">
          <label class="required" translate>GRADE <span>*</span></label>
          <input
            type="text"
            formControlName="grade"
            class="form-control"
            placeholder="{{ 'Grade' | translate }}"
            [ngClass]="{ 'is-invalid': submitted && f['grade'].errors }"
            maxlength="5"
            (input)="clearErrorMessage()"
            (input)="removeSpaces()"
          />
          <div *ngIf="submitted && f['grade'].errors" class="invalid-feedback">
            <div *ngIf="f['grade'].errors['required']">
              <span translate>GRADE</span>
              <span translate> IS_REQUIRED</span>
            </div>
            <div *ngIf="f['grade'].errors['pattern']">
              <span translate>Invalid format</span> 
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-3">
        <div class="form-group">
          <label class="required" translate>MINIMUM_MARKS <span>*</span></label>
          <input
            type="text"
            formControlName="minMark"
            class="form-control"
            placeholder="{{ 'Min Mark' | translate }}"
            [ngClass]="{ 'is-invalid': submitted && f['minMark'].errors }"
            maxlength="3"
            pattern="[0-9]*"
            inputmode="numeric"
            oninput="this.value = this.value.replace(/\D+/g, '')"
            (input)="clearErrorMessage()"
          />
          <div *ngIf="submitted && f['minMark'].errors" class="invalid-feedback">
            <div *ngIf="f['minMark'].errors['required']">
              <span translate>MINIMUM_MARKS</span>
              <span translate> IS_REQUIRED</span>
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-3">
        <div class="form-group">
          <label class="required" translate>MAXIMUM_MARKS <span>*</span></label>
          <input
            type="text"
            formControlName="maxMark"
            class="form-control"
            placeholder="{{ 'Max Mark' | translate }}"
            [ngClass]="{ 'is-invalid': submitted && f['maxMark'].errors }"
            maxlength="3"
            pattern="[0-9]*"
            inputmode="numeric"
            oninput="this.value = this.value.replace(/\D+/g, '')"
            (input)="clearErrorMessage()"
          />
          <div *ngIf="submitted && f['maxMark'].errors" class="invalid-feedback">
            <div *ngIf="f['maxMark'].errors['required']">
              <span translate>MAXIMUM_MARKS</span>
              <span translate> IS_REQUIRED</span>
            </div>
          </div>
          
        </div>
      </div>
      <div class="col-12 col-md-12 col-lg-12">
        <span *ngIf="message" class="text-danger text-center">{{ message }}</span>
      </div>
      <div class="col-12 col-md-12 col-lg-12">
        <span *ngIf="errorMessage"  translate class="text-danger text-center">{{ errorMessage }}</span>
      </div>
    </div>
  </form>
</div>

<div class="modal-footer">
  <div class="form-group mb-0">
    
    <button type="button" class="btn btn-primary" (click)="saveMarksGradeRelationData()" translate>SAVE</button>
    <button class="btn btn-light" (click)="close()" translate>CANCEL</button>
  </div>
</div>
