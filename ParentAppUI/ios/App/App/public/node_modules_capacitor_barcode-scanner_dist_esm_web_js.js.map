{"version":3,"file":"node_modules_capacitor_barcode-scanner_dist_esm_web_js.js","mappings":"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","sources":["./node_modules/@capacitor/barcode-scanner/dist/esm/web.js"],"sourcesContent":["import { WebPlugin } from '@capacitor/core';\nimport { Html5Qrcode } from 'html5-qrcode';\nimport { CapacitorBarcodeScannerScanOrientation } from './definitions';\n/**\n * Implements OSBarcodePlugin to provide web functionality for barcode scanning.\n */\nexport class CapacitorBarcodeScannerWeb extends WebPlugin {\n    /**\n     * Stops the barcode scanner and hides its UI.\n     * @private\n     * @returns {Promise<void>} A promise that resolves when the scanner has stopped and its UI is hidden.\n     */\n    async stopAndHideScanner() {\n        console.log(window.OSBarcodeWebScanner);\n        if (window.OSBarcodeWebScanner) {\n            await window.OSBarcodeWebScanner.stop();\n            window.OSBarcodeWebScanner = null;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        document.getElementById('cap-os-barcode-scanner-container-dialog').style.display = 'none';\n    }\n    /**\n     * Builds the HTML elements necessary for the barcode scanner UI.\n     * This method checks if the scanner container exists before creating it to avoid duplicates.\n     * It also sets up the close button to stop and hide the scanner on click.\n     * @private\n     */\n    buildScannerElement() {\n        if (document.getElementById('cap-os-barcode-scanner-container')) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            document.getElementById('cap-os-barcode-scanner-container').className = 'scanner-container-display';\n            return;\n        }\n        // Create and configure scanner container elements\n        const caposbarcodescannercontainer = document.body.appendChild(document.createElement('div'));\n        caposbarcodescannercontainer.id = 'cap-os-barcode-scanner-container';\n        const caposbarcodescannercontainerdialog = document.createElement('div');\n        caposbarcodescannercontainerdialog.id = 'cap-os-barcode-scanner-container-dialog';\n        caposbarcodescannercontainerdialog.className = 'scanner-dialog';\n        // Inner dialog elements including the close button and scanner view\n        const caposbarcodescannercontainerdialoginner = document.createElement('div');\n        caposbarcodescannercontainerdialoginner.className = 'scanner-dialog-inner';\n        const caposbarcodescannercontainerdialoginnerclose = document.createElement('span');\n        caposbarcodescannercontainerdialoginnerclose.className = 'close-button';\n        caposbarcodescannercontainerdialoginnerclose.innerHTML = '&times;';\n        caposbarcodescannercontainerdialoginner.appendChild(caposbarcodescannercontainerdialoginnerclose);\n        const caposbarcodescannercontainerdialoginnercontainerp = document.createElement('p');\n        caposbarcodescannercontainerdialoginnercontainerp.innerHTML = '&nbsp;';\n        caposbarcodescannercontainerdialoginner.appendChild(caposbarcodescannercontainerdialoginnercontainerp);\n        const caposbarcodescannercontainerdialoginnercontainer = document.createElement('div');\n        caposbarcodescannercontainerdialoginnercontainer.className = 'scanner-container-full-width';\n        caposbarcodescannercontainerdialoginnercontainer.id = 'cap-os-barcode-scanner-container-scanner';\n        caposbarcodescannercontainerdialoginner.appendChild(caposbarcodescannercontainerdialoginnercontainer);\n        caposbarcodescannercontainerdialog.appendChild(caposbarcodescannercontainerdialoginner);\n        caposbarcodescannercontainer.appendChild(caposbarcodescannercontainerdialog);\n        caposbarcodescannercontainerdialoginnerclose.onclick = this.stopAndHideScanner;\n    }\n    /**\n     * Initiates a barcode scan using the user's camera and HTML5 QR code scanner.\n     * Displays the scanner UI and waits for a scan to complete or fail.\n     * @param {OSBarcodeScanOptions} options Configuration options for the scan, including camera direction and UI preferences.\n     * @returns {Promise<OSBarcodeScanResult>} A promise that resolves with the scan result or rejects with an error.\n     */\n    async scanBarcode(options) {\n        this.buildScannerElement();\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        document.getElementById('cap-os-barcode-scanner-container-dialog').style.display = 'block';\n        return new Promise((resolve, reject) => {\n            var _a, _b;\n            const param = {\n                facingMode: options.cameraDirection === 1 ? 'environment' : 'user',\n                hasScannerButton: false,\n                scanButton: options.scanButton === undefined ? false : options.scanButton,\n                showScanLine: false,\n                scanInstructions: options.scanInstructions ? options.scanInstructions : '',\n                orientation: options.scanOrientation\n                    ? options.scanOrientation\n                    : CapacitorBarcodeScannerScanOrientation.PORTRAIT,\n                showCameraSelection: ((_a = options.web) === null || _a === void 0 ? void 0 : _a.showCameraSelection) ? options.web.showCameraSelection : false,\n                typeHint: options.hint === 17 ? undefined : options.hint,\n                scannerFPS: ((_b = options.web) === null || _b === void 0 ? void 0 : _b.scannerFPS) ? options.web.scannerFPS : 50,\n            };\n            // Set up and start the scanner\n            const scannerElement = document.getElementById('cap-os-barcode-scanner-container-scanner');\n            if (!scannerElement) {\n                throw new Error('Scanner Element is required for web');\n            }\n            window.OSBarcodeWebScanner = new Html5Qrcode(scannerElement.id);\n            const Html5QrcodeConfig = {\n                fps: param.scannerFPS,\n                qrbox: scannerElement.getBoundingClientRect().width * (9 / 16) - 10,\n                aspectRatio: 16 / 9,\n                videoConstraints: {\n                    focusMode: 'continuous',\n                    height: { min: 576, ideal: 1920 },\n                    deviceId: undefined,\n                    facingMode: undefined,\n                },\n            };\n            // Success and error callbacks for the scanner\n            const OSBarcodeWebScannerSuccessCallback = (decodedText, _decodedResult) => {\n                this.stopAndHideScanner();\n                resolve({ ScanResult: decodedText });\n            };\n            const OSBarcodeWebScannerErrorCallback = (error) => {\n                if (error.indexOf('NotFoundException') === -1) {\n                    this.stopAndHideScanner();\n                    console.error(`[Scanner Web Error] ${error}`);\n                    reject(error);\n                }\n            };\n            window.OSBarcodeWebScanner.start({ facingMode: param.facingMode }, Html5QrcodeConfig, OSBarcodeWebScannerSuccessCallback, OSBarcodeWebScannerErrorCallback);\n        });\n    }\n}\n"],"names":["WebPlugin","Html5Qrcode","CapacitorBarcodeScannerScanOrientation","CapacitorBarcodeScannerWeb","stopAndHideScanner","_asyncToGenerator","console","log","window","OSBarcodeWebScanner","stop","document","getElementById","style","display","buildScannerElement","className","caposbarcodescannercontainer","body","appendChild","createElement","id","caposbarcodescannercontainerdialog","caposbarcodescannercontainerdialoginner","caposbarcodescannercontainerdialoginnerclose","innerHTML","caposbarcodescannercontainerdialoginnercontainerp","caposbarcodescannercontainerdialoginnercontainer","onclick","scanBarcode","options","_this","Promise","resolve","reject","_a","_b","param","facingMode","cameraDirection","hasScannerButton","scanButton","undefined","showScanLine","scanInstructions","orientation","scanOrientation","PORTRAIT","showCameraSelection","web","typeHint","hint","scannerFPS","scannerElement","Error","Html5QrcodeConfig","fps","qrbox","getBoundingClientRect","width","aspectRatio","videoConstraints","focusMode","height","min","ideal","deviceId","OSBarcodeWebScannerSuccessCallback","decodedText","_decodedResult","ScanResult","OSBarcodeWebScannerErrorCallback","error","indexOf","start"],"sourceRoot":"webpack:///","x_google_ignoreList":[0]}