{"version":3,"file":"src_app_pages_public_signin_signin_module_ts.js","mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC,OAAO,+GAA+G,WAAW,WAAW,WAAW,WAAW,WAAW,MAAM,KAAK,WAAW,WAAW,MAAM,KAAK,UAAU,MAAM,KAAK,WAAW,WAAW,KAAK,KAAK,UAAU,WAAW,WAAW,KAAK,KAAK,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,WAAW,UAAU,OAAO,MAAM,WAAW,WAAW,OAAO,MAAM,WAAW,WAAW,UAAU,OAAO,MAAM,UAAU,MAAM,MAAM,UAAU,UAAU,OAAO,MAAM,WAAW,WAAW,UAAU,UAAU,WAAW,WAAW,WAAW,WAAW,WAAW,OAAO,MAAM,WAAW,UAAU,WAAW,WAAW,WAAW,UAAU,WAAW,WAAW,UAAU,WAAW,MAAM,MAAM,UAAU,UAAU,UAAU,WAAW,UAAU,UAAU,WAAW,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,MAAM,MAAM,WAAW,UAAU,UAAU,MAAM,MAAM,UAAU,UAAU,WAAW,UAAU,WAAW,UAAU,OAAO,MAAM,WAAW,WAAW,WAAW,WAAW,OAAO,MAAM,WAAW,OAAO,MAAM,UAAU,WAAW,UAAU,OAAO,MAAM,UAAU,WAAW,WAAW,WAAW,WAAW,UAAU,OAAO,MAAM,UAAU,WAAW,WAAW,WAAW,UAAU,OAAO,MAAM,WAAW,WAAW,UAAU,MAAM,MAAM,WAAW,UAAU,UAAU,WAAW,OAAO,MAAM,WAAW,UAAU,OAAO,MAAM,WAAW,UAAU,OAAO,MAAM,WAAW,UAAU,UAAU,OAAO,MAAM,WAAW,UAAU,UAAU,UAAU,UAAU,UAAU,OAAO,MAAM,UAAU,UAAU,WAAW,+CAA+C,gGAAgG,8BAA8B,2CAA2C,uBAAuB,0BAA0B,mCAAmC,oCAAoC,KAAK,qBAAqB,uBAAuB,yBAAyB,KAAK,gBAAgB,oBAAoB,KAAK,qBAAqB,yBAAyB,wBAAwB,YAAY,wBAAwB,yBAAyB,sCAAsC,OAAO,WAAW,4BAA4B,OAAO,KAAK,uBAAuB,4BAA4B,kBAAkB,mBAAmB,qDAAqD,mCAAmC,qBAAqB,QAAQ,qBAAqB,kCAAkC,KAAK,iBAAiB,4BAA4B,qDAAqD,mCAAmC,wBAAwB,2BAA2B,qBAAqB,KAAK,gBAAgB,uCAAuC,qCAAqC,GAAG,gBAAgB,uBAAuB,wBAAwB,oBAAoB,qBAAqB,sBAAsB,yCAAyC,KAAK,aAAa,iBAAiB,SAAS,kBAAkB,sBAAsB,KAAK,GAAG,mBAAmB,sBAAsB,uBAAuB,oBAAoB,iBAAiB,0BAA0B,qBAAqB,uBAAuB,2CAA2C,4DAA4D,kCAAkC,GAAG,iBAAiB,uBAAuB,gBAAgB,wBAAwB,sBAAsB,8BAA8B,iBAAiB,qBAAqB,0CAA0C,0CAA0C,wCAAwC,kBAAkB,wBAAwB,cAAc,kBAAkB,kBAAkB,iBAAiB,uBAAuB,sBAAsB,sBAAsB,uBAAuB,qBAAqB,qBAAqB,2BAA2B,iBAAiB,qBAAqB,yBAAyB,gBAAgB,iBAAiB,KAAK,cAAc,wBAAwB,sBAAsB,qBAAqB,KAAK,eAAe,sBAAsB,sBAAsB,uBAAuB,qBAAqB,uBAAuB,iBAAiB,KAAK,GAAG,aAAa,0BAA0B,sBAAsB,uBAAuB,2BAA2B,yCAAyC,GAAG,iBAAiB,wBAAwB,GAAG,kBAAkB,oBAAoB,wBAAwB,sBAAsB,GAAG,cAAc,oBAAoB,sBAAsB,uBAAuB,qBAAqB,uBAAuB,mBAAmB,GAAG,SAAS,oBAAoB,qBAAqB,uBAAuB,wBAAwB,mBAAmB,GAAG,kBAAkB,OAAO,4BAA4B,qBAAqB,sBAAsB,uBAAuB,KAAK,uBAAuB,uBAAuB,kBAAkB,GAAG,iBAAiB,uBAAuB,WAAW,GAAG,cAAc,sBAAsB,gBAAgB,GAAG,sBAAsB,+BAA+B,oBAAoB,mBAAmB,KAAK,iBAAiB,uBAAuB,oBAAoB,mBAAmB,iBAAiB,YAAY,aAAa,GAAG,WAAW,mBAAmB,oBAAoB,qBAAqB,GAAG,mBAAmB;AAC73K;AACA","sources":["./src/app/pages/public/signin/signin-routing.module.ts","./src/app/pages/public/signin/signin.module.ts","./src/app/pages/public/signin/signin.page.ts","./src/app/services/toast/toast.service.ts","./src/app/pages/public/signin/signin.page.scss"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SigninPage } from './signin.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SigninPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SigninPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SigninPageRoutingModule } from './signin-routing.module';\n\nimport { SigninPage } from './signin.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SigninPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [SigninPage]\n})\nexport class SigninPageModule {}\n","import { Component, OnInit, OnDestroy, Inject } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { CommonMethodService } from 'src/app/services/common-method-service';\nimport { AuthServiceProxy, LoginDto, ResetPasswordRequestDto, UserLoginResponse } from 'src/app/services/school-api-service';\nimport { UserService } from 'src/app/services/user-service';\nimport { environment } from 'src/environments/environment';\nimport * as CryptoJS from 'crypto-js/';\nimport { IonRouterOutlet, ModalController } from '@ionic/angular';\nimport { PasswordResetPage } from '../password-reset/password-reset.page';\nimport { ToastService } from 'src/app/services/toast/toast.service';\nimport { APP_TOKEN, StorageService } from 'src/app/services/storage/storage.service';\nimport { FcmService } from 'src/app/services/fcm/fcm.service';\nimport { Capacitor } from '@capacitor/core';\n\n@Component({\n  selector: 'app-signin',\n  templateUrl: './signin.page.html',\n  styleUrls: ['./signin.page.scss'],\n})\nexport class SigninPage implements OnInit, OnDestroy {\n  isError : boolean = false;\n  isLocationError:boolean=false;\n  loginForm: FormGroup;\n  showLoginPage = true;\n  password: string = '';\n  passwordVisible: boolean = false;\n  appVersion:string;\n  togglePasswordVisibility(): void {\n    this.passwordVisible = !this.passwordVisible;\n  }\n\n  constructor(\n     @Inject(DOCUMENT) private document: Document,\n     private formBuilder: FormBuilder,\n     private authClient:AuthServiceProxy,\n     private router:Router,\n     public commonMethods:CommonMethodService,\n     public translate: TranslateService,\n     public userService:UserService,\n     private modalController: ModalController,\n     private toastService: ToastService,\n     private routerOutlet: IonRouterOutlet,\n     private storageService:StorageService,\n     private fcmService:FcmService\n    ) \n      {\n       translate.addLangs(['en', 'hn', 'mr']);  \n       translate.setDefaultLang('en'); \n       this.appVersion=environment.APP_VERSION;\n      }\n\n    ionViewDidEnter() {\n     \n      this.checkIfAlreadyLoggedIn();\n       \n      }\n\n      checkIfAlreadyLoggedIn(){\n        if(this.userService.isAuthenticated())\n        {\n          this.userService.getUser().subscribe(result=>{\n            let roleId= localStorage.getItem(\"id\");\n            if(roleId && roleId!=''){\n              let decryptedString=CryptoJS.AES.decrypt(roleId!, environment.ENCRYPTION_PASSWORD).toString(CryptoJS.enc.Utf8);\n               if(decryptedString==\"3\"){\n                this.router.navigate(['/teacher-app']);\n              }\n              else if(decryptedString==\"5\")\n              {\n                this.router.navigate(['/parent-app']);\n              }\n              else if(decryptedString==\"6\")\n              {\n                this.router.navigate(['/driver-app']);\n              }\n            }\n          });\n        \n           \n        }\n      }\n\n  ngOnInit() {\n  this.loginForm = this.formBuilder.group({\n    code: ['', [Validators.required]],\n    username: ['', [Validators.required]],\n    password: ['', [Validators.required]],\n    fcmToken:['']\n  });\n  this.document.body.classList.add('login-page-body');\n  this.translate.use('en');\n  this.translate.setDefaultLang('en');\n  this.checkIfAlreadyLoggedIn();\n \n  }\n\n\n  ionViewDidLeave() {\n    this.document.body.classList.remove('login-page-body');\n  }\n\n  ngOnDestroy(): void {\n    this.document.body.classList.remove('login-page-body');\n  }\n\n  \nget f(){\n  return this.loginForm.controls;\n}\n\n\n\nasync login(){\n  this.loginForm.markAllAsTouched();\n  if( this.loginForm.valid){\n    const formData = this.loginForm.getRawValue() as LoginDto;\n   this.authClient.applogin(formData).subscribe(async successResult =>\n   {\n    this.isError = false;\n    if(successResult.isFirstTimeLogin){\n\n\n      const modal = await this.modalController.create({\n        component: PasswordResetPage,\n        componentProps:{token:successResult.resetPasswordObj.token,schoolCode:formData.code},\n        presentingElement: this.routerOutlet.nativeEl\n      });\n  \n      await modal.present();\n  \n      // Apply filter from modal\n      let { data } = await modal.onWillDismiss();\n  \n      if (data) {\n        this.toastService.presentToast('Success', 'Password reset successfully', 'top', 'success', 2000);\n      }\n   }\n   else{\n    if(successResult.roles.length > 1){\n      let encryptedString=CryptoJS.AES.encrypt(JSON.stringify(successResult), environment.ENCRYPTION_PASSWORD).toString();\n   \n      this.router.navigate(['/role',encryptedString], { replaceUrl: true });\n    }\n    else{\n      let encryptedString=CryptoJS.AES.encrypt(successResult.roles[0].roleId?.toString()!, environment.ENCRYPTION_PASSWORD).toString();\n      localStorage.setItem(\"id\",encryptedString);\n      this.userService.UserToken = successResult.token;\n      this.storageService.setStorage(\"TOKEN\",this.userService.UserToken);\n      \n      setTimeout(() => {\n        if(successResult.roles[0].roleKey==\"Teacher\"){\n          this.router.navigate(['/teacher-app']);\n        }\n        else if(successResult.roles[0].roleKey==\"Parent\")\n        {\n          this.router.navigate(['/parent-app']);\n        }\n        else if(successResult.roles[0].roleKey==\"Cab_Driver\")\n        {\n          this.router.navigate(['/driver-app']);\n        }\n      }, 500);\n      \n     \n    }\n   }\n\n   if(Capacitor.getPlatform() !== 'web') {\n    await this.fcmService.clearFCMTokenAndRemoveListener();\n    await this.fcmService.registerPush();\n  }\n   \n  \n   },async error =>{\n    this.isError = true;\n    this.router.navigate(['/signin']);\n    if(Capacitor.getPlatform() !== 'web') {\n      await this.fcmService.clearFCMTokenAndRemoveListener();\n    }\n   }\n   );\n  }\n  \n}\n\nisModalOpen = false;\n\nsetOpen(isOpen: boolean) {\n  this.isModalOpen = isOpen;\n}\n}\n","import { Injectable } from '@angular/core';\nimport { ToastController } from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class ToastService {\n\n  constructor(\n    public toastController: ToastController\n  ) { }\n\n  async presentToast(header: string, message: string, position: any, color: string, duration: number, icon?: string) {\n\n    if (!icon) {\n      switch (color) {\n        case 'success':\n          icon = 'checkmark-outline';\n          break;\n        case 'medium':\n          icon = 'information-circle-outline';\n          break;\n        case 'danger':\n          icon = 'warning-outline';\n          break;\n      }\n    }\n\n    const toast = await this.toastController.create({\n      header: header,\n      message: message,\n      duration: duration,\n      position: position,\n      color: color,\n      icon: icon\n    });\n\n    await toast.present();\n  }\n}\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `ion-content {\n  --background: transparent !important;\n  overflow: hidden;\n  border-radius: 27px;\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 0;\n}\n\nion-modal {\n  background: #fff;\n  --background: #fff;\n}\n\nion-header {\n  height: 150px;\n}\n\n.logo-container {\n  text-align: center;\n  padding-top: 90px;\n}\n.logo-container h1 {\n  font-size: 22px;\n  font-weight: 500;\n  margin: 20px 0 40px !important;\n}\n.logo-container p {\n  margin-bottom: 42px;\n}\n\n.ion-margin-top {\n  margin-top: 30px !important;\n}\n\nion-loading.default-loading {\n  --background: red;\n  --spinner-color: red;\n  color: #1c6dff;\n}\n\n.app-btn {\n  --background: var(--dark-bg-color);\n  background: var(--dark-bg-color);\n}\n\nion-avatar {\n  position: relative;\n  margin-bottom: 50px;\n  margin-top: 6px;\n}\n\n.logo-w {\n  width: 200px;\n}\n.logo-w img {\n  width: 100%;\n  max-width: 100%;\n}\n\n.login-button {\n  padding-left: 0px;\n  padding-right: 0px;\n  font-size: 16px;\n  height: 40px;\n  --border-radius: 50px;\n  margin-top: 40px;\n  --box-shadow: none;\n  --background: linear-gradient(135deg, #da8e63, #c754aa);\n  --color: var(--white-color);\n}\n\n.input-item {\n  padding-left: 15px;\n  width: 100%;\n  border-radius: 40px;\n  overflow: visible;\n  border: 0px solid #262161;\n  height: 44px;\n  background: #fff;\n  box-shadow: 0px 0px 0px 1px #a0a3aa;\n  display: flex;\n  align-items: center;\n}\n.input-item legend {\n  float: left;\n  width: auto;\n  padding: 0;\n  margin-bottom: 0;\n  margin-top: 7px;\n  font-size: 14px;\n  font-weight: 500;\n  color: #262161;\n  line-height: 1;\n  left: 15px;\n  padding: 2px 0;\n  top: -8px;\n  z-index: 1;\n}\n.input-item ion-icon {\n  margin-right: 7px;\n  font-size: 20px;\n  color: #262161;\n}\n.input-item ion-input {\n  margin-top: 0px;\n  font-size: 16px;\n  font-weight: 500;\n  color: #262161;\n  min-height: 32px;\n  width: 90%;\n}\n\n.ion-item {\n  overflow: visible;\n  --padding-start: 0;\n  --inner-padding-end: 0;\n  --background: transparent !important;\n}\n\n.field-margin {\n  margin-bottom: 15px;\n}\n\n.text-danger {\n  font-size: 12px;\n  margin-left: 17px;\n  margin-top: 4px;\n}\n\n.heading {\n  font-size: 28px;\n  font-weight: bold;\n  padding-left: 20px;\n  margin-top: 30px;\n  margin-bottom: 5px;\n  color: #272262;\n}\n\n.para {\n  font-size: 18px;\n  font-weight: 400;\n  padding-left: 20px;\n  margin-bottom: 20px;\n  color: #272262;\n}\n\n.forget-text {\n  text-align: center;\n  margin-bottom: 0px;\n  padding: 10px;\n}\n.forget-text a {\n  text-decoration: none;\n  color: #ff5722;\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.heading-text {\n  position: absolute;\n  top: 0;\n}\n\n.header-bg {\n  margin-top: -94px;\n  width: 100%;\n}\n\n.forgot-password {\n  text-decoration: underline;\n  font-size: 16px;\n  color: #5138ee;\n}\n\n.version-text {\n  position: absolute;\n  font-size: 13px;\n  color: #737070;\n  bottom: 10px;\n  left: 0;\n  right: 0;\n}\n\n.p-text {\n  color: #ff5722;\n  font-size: 16px;\n  font-weight: 500;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/pages/public/signin/signin.page.scss\"],\"names\":[],\"mappings\":\"AAGE;EAGE,oCAAA;EACA,gBAAA;EACA,mBAAA;EACA,4BAAA;EACA,6BAAA;AAJJ;;AAQE;EACE,gBAAA;EACA,kBAAA;AALJ;;AAOE;EACE,aAAA;AAJJ;;AAME;EACE,kBAAA;EACA,iBAAA;AAHJ;AAKI;EACE,eAAA;EACA,gBAAA;EACA,8BAAA;AAHN;AAMI;EACE,mBAAA;AAJN;;AAgBE;EACE,2BAAA;AAbJ;;AAoBE;EACE,iBAAA;EACA,oBAAA;EACA,cAAA;AAjBJ;;AAqBA;EACE,kCAAA;EACA,gCAAA;AAlBF;;AAqBA;EACE,kBAAA;EACA,mBAAA;EACA,eAAA;AAlBF;;AA0BA;EACE,YAAA;AAvBF;AAwBE;EACE,WAAA;EACA,eAAA;AAtBJ;;AA0BA;EACE,iBAAA;EACA,kBAAA;EACA,eAAA;EACA,YAAA;EACA,qBAAA;EACA,gBAAA;EACA,kBAAA;EAEA,uDAAA;EACE,2BAAA;AAxBJ;;AA2BA;EACE,kBAAA;EACA,WAAA;EACA,mBAAA;EACA,iBAAA;EACA,yBAAA;EACA,YAAA;EACA,gBAAA;EAGA,mCAAA;EACA,aAAA;EACA,mBAAA;AA1BF;AA2BI;EACA,WAAA;EACA,WAAA;EACA,UAAA;EACA,gBAAA;EACA,eAAA;EACA,eAAA;EACA,gBAAA;EACA,cAAA;EACA,cAAA;EAEA,UAAA;EACA,cAAA;EAEA,SAAA;EACA,UAAA;AA3BJ;AA6BE;EACE,iBAAA;EACA,eAAA;EACA,cAAA;AA3BJ;AA6BE;EACE,eAAA;EACA,eAAA;EACA,gBAAA;EACA,cAAA;EACA,gBAAA;EACA,UAAA;AA3BJ;;AA8BA;EAEE,iBAAA;EACA,kBAAA;EACA,sBAAA;EACA,oCAAA;AA5BF;;AA8BA;EACE,mBAAA;AA3BF;;AA8BA;EACE,eAAA;EACE,iBAAA;EACA,eAAA;AA3BJ;;AA8BA;EACE,eAAA;EACA,iBAAA;EACA,kBAAA;EACA,gBAAA;EACA,kBAAA;EACA,cAAA;AA3BF;;AA6BA;EACE,eAAA;EACA,gBAAA;EACA,kBAAA;EACA,mBAAA;EACA,cAAA;AA1BF;;AA6BA;EAOE,kBAAA;EACA,kBAAA;EACA,aAAA;AAhCF;AAwBE;EACE,qBAAA;EACA,cAAA;EACA,eAAA;EACA,gBAAA;AAtBJ;;AA4BA;EACE,kBAAA;EACA,MAAA;AAzBF;;AA2BA;EACE,iBAAA;EACA,WAAA;AAxBF;;AA2BA;EACE,0BAAA;EACA,eAAA;EACA,cAAA;AAxBF;;AA2BA;EACE,kBAAA;EACA,eAAA;EACA,cAAA;EACA,YAAA;EACA,OAAA;EACA,QAAA;AAxBF;;AA0BA;EACE,cAAA;EACA,eAAA;EACA,gBAAA;AAvBF\",\"sourcesContent\":[\"\\n\\n\\n  ion-content {\\n    // --background: linear-gradient(135deg, var(--ion-color-dark), var(--ion-color-primary));\\n    //--background: #272262;\\n    --background: transparent !important;\\n    overflow: hidden;\\n    border-radius: 27px;\\n    border-bottom-left-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n  \\n\\n  ion-modal {\\n    background: #fff;\\n    --background: #fff;\\n  }\\n  ion-header {\\n    height: 150px;\\n  }\\n  .logo-container {\\n    text-align: center;\\n    padding-top: 90px;\\n\\n    h1 {\\n      font-size: 22px;\\n      font-weight: 500;\\n      margin: 20px 0 40px!important;\\n    }\\n\\n    p {\\n      margin-bottom: 42px;\\n    }\\n  }\\n\\n  // .center-grid {\\n  //   position: absolute;\\n  //   top: 50%;\\n  //   left: 50%;\\n  //   transform: translate(-50%, -50%) !important;\\n  //   display: block !important;\\n  //   width: 100%;\\n  // }\\n  .ion-margin-top {\\n    margin-top: 30px !important;\\n  }\\n  // ion-item {\\n  //   --border-width:2px;\\n  //   --border-color:var(--ion-color-dark)\\n  // }\\n\\n  ion-loading.default-loading {\\n    --background: red;\\n    --spinner-color: red;\\n    color: #1c6dff;\\n  }\\n\\n\\n.app-btn {\\n  --background: var(--dark-bg-color);\\n  background: var(--dark-bg-color);\\n}\\n\\nion-avatar {\\n  position: relative;\\n  margin-bottom: 50px;\\n  margin-top: 6px;\\n\\n  // width: 90px;\\n  //   height: 90px;\\n  //   box-shadow: 0 0 3px 2px #7d7aad;\\n\\n}\\n\\n.logo-w {\\n  width: 200px;\\n  img {\\n    width: 100%;\\n    max-width: 100%;\\n  }\\n}\\n\\n.login-button {\\n  padding-left: 0px;\\n  padding-right: 0px;\\n  font-size: 16px;\\n  height: 40px;\\n  --border-radius: 50px;\\n  margin-top: 40px;\\n  --box-shadow: none;\\n  //--background: var(--orange-bg-color);\\n  --background: linear-gradient(135deg, #da8e63, #c754aa);\\n    --color: var(--white-color);\\n}\\n\\n.input-item {\\n  padding-left: 15px;\\n  width: 100%;\\n  border-radius: 40px;\\n  overflow: visible;\\n  border: 0px solid #262161;\\n  height: 44px;\\n  background: #fff;\\n  //box-shadow: 0px 2px 4px 1px #c1c4c7;\\n  //box-shadow: 0px 0px 2px 0px #7b7c7d;\\n  box-shadow: 0px 0px 0px 1px #a0a3aa;\\n  display: flex;\\n  align-items: center;\\n    legend {\\n    float: left;\\n    width: auto;\\n    padding: 0;\\n    margin-bottom: 0;\\n    margin-top: 7px;\\n    font-size: 14px;\\n    font-weight: 500;\\n    color: #262161;\\n    line-height: 1;\\n    //position: absolute;\\n    left: 15px;\\n    padding: 2px 0;\\n    //background: #fff;\\n    top: -8px;\\n    z-index: 1;\\n  }\\n  ion-icon {\\n    margin-right: 7px;\\n    font-size: 20px;\\n    color: #262161;\\n  }\\n  ion-input {\\n    margin-top: 0px;\\n    font-size: 16px;\\n    font-weight: 500;\\n    color: #262161;\\n    min-height: 32px;\\n    width: 90%;\\n  }\\n}\\n.ion-item {\\n  //margin-bottom: 15px;\\n  overflow: visible;\\n  --padding-start: 0;\\n  --inner-padding-end: 0;\\n  --background: transparent !important;\\n}\\n.field-margin {\\n  margin-bottom: 15px;\\n}\\n\\n.text-danger {\\n  font-size: 12px;\\n    margin-left: 17px;\\n    margin-top: 4px;\\n}\\n\\n.heading {\\n  font-size: 28px;\\n  font-weight: bold;\\n  padding-left: 20px;\\n  margin-top: 30px;\\n  margin-bottom: 5px;\\n  color: #272262;\\n}\\n.para {\\n  font-size: 18px;\\n  font-weight: 400;\\n  padding-left: 20px;\\n  margin-bottom: 20px;\\n  color: #272262;\\n}\\n\\n.forget-text {\\n  a {\\n    text-decoration: none;\\n    color: #ff5722;\\n    font-size: 16px;\\n    font-weight: 500;\\n  }\\n  text-align: center;\\n  margin-bottom: 0px;\\n  padding: 10px;\\n}\\n.heading-text {\\n  position: absolute;\\n  top: 0;\\n}\\n.header-bg {\\n  margin-top: -94px;\\n  width: 100%;\\n}\\n\\n.forgot-password {\\n  text-decoration: underline;\\n  font-size: 16px;\\n  color: #5138ee;\\n\\n}\\n.version-text {\\n  position: absolute;\\n  font-size: 13px;\\n  color: #737070;\\n  bottom: 10px;\\n  left: 0;\\n  right: 0;\\n}\\n.p-text {\\n  color: #ff5722;\\n  font-size: 16px;\\n  font-weight: 500;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","RouterModule","SigninPage","routes","path","component","SigninPageRoutingModule","__decorate","imports","forChild","exports","CommonModule","FormsModule","ReactiveFormsModule","IonicModule","SigninPageModule","declarations","Component","Inject","DOCUMENT","FormBuilder","Validators","Router","TranslateService","CommonMethodService","AuthServiceProxy","UserService","environment","CryptoJS","IonRouterOutlet","ModalController","PasswordResetPage","ToastService","StorageService","FcmService","Capacitor","togglePasswordVisibility","passwordVisible","constructor","document","formBuilder","authClient","router","commonMethods","translate","userService","modalController","toastService","routerOutlet","storageService","fcmService","isError","isLocationError","showLoginPage","password","isModalOpen","addLangs","setDefaultLang","appVersion","APP_VERSION","ionViewDidEnter","checkIfAlreadyLoggedIn","isAuthenticated","getUser","subscribe","result","roleId","localStorage","getItem","decryptedString","AES","decrypt","ENCRYPTION_PASSWORD","toString","enc","Utf8","navigate","ngOnInit","loginForm","group","code","required","username","fcmToken","body","classList","add","use","ionViewDidLeave","remove","ngOnDestroy","f","controls","login","_this","_asyncToGenerator","markAllAsTouched","valid","formData","getRawValue","applogin","_ref","successResult","isFirstTimeLogin","modal","create","componentProps","token","resetPasswordObj","schoolCode","presentingElement","nativeEl","present","data","onWillDismiss","presentToast","roles","length","encryptedString","encrypt","JSON","stringify","replaceUrl","setItem","UserToken","setStorage","setTimeout","roleKey","getPlatform","clearFCMTokenAndRemoveListener","registerPush","_x","apply","arguments","_ref2","error","_x2","setOpen","isOpen","_","args","selector","template","__NG_CLI_RESOURCE__0","Injectable","ToastController","toastController","header","message","position","color","duration","icon","toast","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}